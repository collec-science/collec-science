<?xml version="1.0" encoding="UTF-8"?>
<!--
CAUTION: Do not modify this file unless you know what you are doing.
         Unexpected results may occur if the code is changed deliberately.
-->
<dbmodel pgmodeler-ver="0.9.2" author="Eric Quinton" last-position="0,597" last-zoom="0.75" max-obj-count="70"
	 default-schema="col" default-owner="collec"
	 layers="gacl" active-layers="0;1">
<role name="collec"
      superuser="true"
      createdb="true"
      createrole="true"
      inherit="true"
      login="true"
      password="collecPassword">
</role>

<database name="collec" encoding="UTF8" lc-collate="fr_FR.UTF-8" lc-ctype="fr_FR.UTF-8" is-template="false" allow-conns="true">
	<role name="collec"/>
	<tablespace name="pg_default"/>
</database>

<tag name="collection">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#ffaa00,#ffaa00,#20486f"/>
</tag>
<tag name="objects">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#00ff00,#00ff00,#20486f"/>
</tag>
<tag name="sample">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#00aa00,#00aa00,#20486f"/>
</tag>
<tag name="container">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#ff5500,#ff5500,#20486f"/>
</tag>
<tag name="acl">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#ff0000,#ff0000,#20486f"/>
</tag>
<tag name="movement">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#aaaa00,#aaaa00,#20486f"/>
</tag>
<tag name="object">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#55aa00,#ff5500,#20486f"/>
</tag>
<tag name="export">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#ffffff"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#550000,#550000,#20486f"/>
</tag>
<tag name="utils">
	<style id="table-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-ext-body" colors="#fcfcfc,#fcfcfc,#808080"/>
	<style id="table-name" colors="#000000"/>
	<style id="table-schema-name" colors="#000000"/>
	<style id="table-title" colors="#55aaff,#55aaff,#20486f"/>
</tag>
<schema name="public" layer="0" rect-visible="true" fill-color="#e1e1e1" sql-disabled="true">
</schema>

<schema name="col" layer="0" rect-visible="true" fill-color="#589eee">
	<role name="collec"/>
</schema>

<schema name="gacl" layer="1" rect-visible="true" fill-color="#7e32c6">
	<role name="collec"/>
</schema>

<extension name="pg_trgm" cur-version="1.4">
	<schema name="pg_catalog"/>
	<comment><![CDATA[text similarity measurement and index searching based on trigrams]]></comment>
</extension>

<sequence name="booking_booking_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="booking" layer="0" collapse-mode="2" max-obj-count="8">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of object's bookings]]></comment>
	<tag name="objects"/>
	<position x="2180" y="640"/>
	<column name="booking_id" not-null="true" sequence="col.booking_booking_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="uid" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="booking_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of booking]]></comment>
	</column>
	<column name="date_from" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date-time of booking start]]></comment>
	</column>
	<column name="date_to" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date-time of booking end]]></comment>
	</column>
	<column name="booking_comment">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Comment]]></comment>
	</column>
	<column name="booking_login" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Login used to perform the reservation]]></comment>
	</column>
	<constraint name="booking_pk" type="pk-constr" table="col.booking">
		<columns names="booking_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="project_project_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="collection_group" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of project approvals]]></comment>
	<tag name="collection"/>
	<position x="240" y="480"/>
	<column name="collection_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="aclgroup_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<constraint name="projet_group_pk" type="pk-constr" table="col.collection_group">
		<columns names="collection_id,aclgroup_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="container_container_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="container" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Liste of containers]]></comment>
	<tag name="container"/>
	<position x="1540" y="1120"/>
	<column name="container_id" not-null="true" sequence="col.container_container_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="uid" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="container_type_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<constraint name="container_pk" type="pk-constr" table="col.container">
		<columns names="container_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="container_family_container_family_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="container_family" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[General family of containers]]></comment>
	<tag name="container"/>
	<position x="1940" y="1380"/>
	<column name="container_family_id" not-null="true" sequence="col.container_family_container_family_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="container_family_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<constraint name="container_family_pk" type="pk-constr" table="col.container_family">
		<columns names="container_family_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[container_family_name⸣
Immobilier⸣
Mobilier]]>
	</initial-data>
</table>

<sequence name="container_type_container_type_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="container_type" layer="0" collapse-mode="2" max-obj-count="15">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of types of containers]]></comment>
	<tag name="container"/>
	<position x="1540" y="1380"/>
	<column name="container_type_id" not-null="true" sequence="col.container_type_container_type_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="container_type_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<column name="container_family_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="clp_classification">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Risk classification according to the European CLP directive]]></comment>
	</column>
	<column name="container_type_description">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Long description]]></comment>
	</column>
	<column name="storage_condition_id">
		<type name="integer" length="0"/>
	</column>
	<column name="storage_product">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Product used for storage (formol, alcohol...)]]></comment>
	</column>
	<column name="label_id">
		<type name="integer" length="0"/>
	</column>
	<column name="columns" not-null="true" default-value="1">
		<type name="integer" length="0"/>
		<comment><![CDATA[Number of storage columns in the container]]></comment>
	</column>
	<column name="lines" not-null="true" default-value="1">
		<type name="integer" length="0"/>
		<comment><![CDATA[Number of storage lines in the container]]></comment>
	</column>
	<column name="first_line" not-null="true" default-value="'T'">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Place of the first line:
T: top
B: bottom]]></comment>
	</column>
	<column name="nb_slots_max" default-value="0">
		<type name="integer" length="0"/>
		<comment><![CDATA[Number maximum of slots in the container]]></comment>
	</column>
	<column name="first_column" default-value="'L'">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Place of the first column: 
L: left
R: Right]]></comment>
	</column>
	<constraint name="container_type_pk" type="pk-constr" table="col.container_type">
		<columns names="container_type_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[container_type_name•container_family_id⸣
Site•1⸣
Batiment•1⸣
Pièce•1⸣
Armoire•2⸣
Congélateur•2]]>
	</initial-data>
</table>

<table name="dbparam" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of parameters intrinsically associated to the instance]]></comment>
	<position x="1940" y="1620"/>
	<column name="dbparam_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="dbparam_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the parameter]]></comment>
	</column>
	<column name="dbparam_value">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Value of the parameter]]></comment>
	</column>
	<constraint name="dbparam_pk" type="pk-constr" table="col.dbparam">
		<columns names="dbparam_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[dbparam_id•dbparam_name•dbparam_value⸣
1•APPLI_code•cs_code⸣
2•APPLI_title•Collec-Science - instance for ⸣
3•mapDefaultX•-0.70⸣
4•mapDefaultY•44.77⸣
5•mapDefaultZoom•7]]>
	</initial-data>
</table>

<sequence name="dbversion_dbversion_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="dbversion" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of the database versions]]></comment>
	<position x="2180" y="1620"/>
	<column name="dbversion_id" not-null="true" sequence="col.dbversion_dbversion_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="dbversion_number" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Number of the version]]></comment>
	</column>
	<column name="dbversion_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of the version]]></comment>
	</column>
	<constraint name="dbversion_pk" type="pk-constr" table="col.dbversion">
		<columns names="dbversion_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[dbversion_number•dbversion_date⸣
2.5•2020-08-14]]>
	</initial-data>
</table>

<sequence name="document_document_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="document" layer="0" collapse-mode="2" max-obj-count="14">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Numeric docs associated to an objet or a campaign]]></comment>
	<tag name="objects"/>
	<position x="1540" y="640"/>
	<column name="document_id" not-null="true" sequence="col.document_document_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="uid">
		<type name="integer" length="0"/>
	</column>
	<column name="mime_type_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="document_import_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Import date into the database]]></comment>
	</column>
	<column name="document_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Original name]]></comment>
	</column>
	<column name="document_description">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Description]]></comment>
	</column>
	<column name="data">
		<type name="bytea" length="0"/>
		<comment><![CDATA[Binary content (object imported)]]></comment>
	</column>
	<column name="thumbnail">
		<type name="bytea" length="0"/>
		<comment><![CDATA[Thumbnail in PNG format ( only for pdf, jpg or png docs)]]></comment>
	</column>
	<column name="size">
		<type name="integer" length="0"/>
		<comment><![CDATA[Size of downloaded file]]></comment>
	</column>
	<column name="document_creation_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Create date of the document (date of photo shooting, for example)]]></comment>
	</column>
	<column name="uuid" not-null="true" default-value="gen_random_uuid()">
		<type name="uuid" length="0"/>
	</column>
	<constraint name="document_pk" type="pk-constr" table="col.document">
		<columns names="document_id" ref-type="src-columns"/>
	</constraint>

	<customidxs object-type="column">
		<object name="campaign_id" index="10"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="campaign_fk" index="3"/>
	</customidxs>
</table>

<sequence name="event_event_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="event" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of events]]></comment>
	<tag name="objects"/>
	<position x="1760" y="640"/>
	<column name="event_id" not-null="true" sequence="col.event_event_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="uid" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="event_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date-time of the event]]></comment>
	</column>
	<column name="event_type_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="still_available">
		<type name="character varying" length="0"/>
		<comment><![CDATA[still available content in the object, after the event]]></comment>
	</column>
	<column name="event_comment">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Comment]]></comment>
	</column>
	<constraint name="event_pk" type="pk-constr" table="col.event">
		<columns names="event_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="event_type_event_type_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="event_type" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Event types table]]></comment>
	<tag name="objects"/>
	<position x="1760" y="480"/>
	<column name="event_type_id" not-null="true" sequence="col.event_type_event_type_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="event_type_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the type of event]]></comment>
	</column>
	<column name="is_sample" not-null="true" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[The event is applicable to the samples]]></comment>
	</column>
	<column name="is_container" not-null="true" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[The event is applicable to the containers]]></comment>
	</column>
	<constraint name="event_type_pk" type="pk-constr" table="col.event_type">
		<columns names="event_type_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[event_type_name•is_sample•is_container⸣
Autre•true•true⸣
Conteneur cassé•false•true⸣
Échantillon détruit•true•false⸣
Prélèvement pour analyse•true•false⸣
Échantillon totalement analysé, détruit•true•false]]>
	</initial-data>
</table>

<sequence name="identifier_type_identifier_type_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="identifier_type" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of identifier types]]></comment>
	<tag name="objects"/>
	<position x="1940" y="480"/>
	<column name="identifier_type_id" not-null="true" sequence="col.identifier_type_identifier_type_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="identifier_type_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Textual name of the identifier]]></comment>
	</column>
	<column name="identifier_type_code" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Identifier code, used in the labels]]></comment>
	</column>
	<column name="used_for_search" not-null="true" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[Is the identifier usable for barcode searches?]]></comment>
	</column>
	<constraint name="identifier_type_pk" type="pk-constr" table="col.identifier_type">
		<columns names="identifier_type_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="label_label_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="label" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of label models]]></comment>
	<tag name="container"/>
	<position x="1080" y="1620"/>
	<column name="label_id" not-null="true" sequence="col.label_label_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="label_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the model]]></comment>
	</column>
	<column name="label_xsl" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[XSL content used by FOP transformation (https://xmlgraphics.apache.org/fop/)]]></comment>
	</column>
	<column name="label_fields" not-null="true" default-value="'uid,id,clp,db'">
		<type name="character varying" length="0"/>
		<comment><![CDATA[List of fields incorporated in the QRCODE]]></comment>
	</column>
	<column name="metadata_id">
		<type name="integer" length="0"/>
		<comment><![CDATA[Model of the metadata template associated with this label]]></comment>
	</column>
	<column name="identifier_only" not-null="true" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[true: the qrcode contains only a business identifier]]></comment>
	</column>
	<constraint name="label_pk" type="pk-constr" table="col.label">
		<columns names="label_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[label_name•label_xsl•label_fields⸣
Example - Don't use•<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0"
      xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
      xmlns:fo="http://www.w3.org/1999/XSL/Format">
  <xsl:output method="xml" indent="yes"/>
  <xsl:template match="objects">
    <fo:root>
      <fo:layout-master-set>
        <fo:simple-page-master master-name="label"
              page-height="5cm" page-width="10cm" margin-left="0.5cm" margin-top="0.5cm" margin-bottom="0cm" margin-right="0.5cm">  
              <fo:region-body/>
        </fo:simple-page-master>
      </fo:layout-master-set>
      
      <fo:page-sequence master-reference="label">
         <fo:flow flow-name="xsl-region-body">        
          <fo:block>
          <xsl:apply-templates select="object" />
          </fo:block>

        </fo:flow>
      </fo:page-sequence>
    </fo:root>
   </xsl:template>
  <xsl:template match="object">

  <fo:table table-layout="fixed" border-collapse="collapse"  border-style="none" width="8cm&quot; keep-together.within-page=&quot;always">
  <fo:table-column column-width="4cm"/>
  <fo:table-column column-width="4cm" />
 <fo:table-body  border-style="none" >
 	<fo:table-row>
  		<fo:table-cell> 
  		<fo:block>
  		<fo:external-graphic>
      <xsl:attribute name="src">
             <xsl:value-of select="concat(uid,'.png')" />
       </xsl:attribute>
       <xsl:attribute name="content-height">scale-to-fit</xsl:attribute>
       <xsl:attribute name="height">4cm</xsl:attribute>
        <xsl:attribute name="content-width">4cm</xsl:attribute>
        <xsl:attribute name="scaling">uniform</xsl:attribute>
      
       </fo:external-graphic>
 		</fo:block>
   		</fo:table-cell>
  		<fo:table-cell>
<fo:block><fo:inline font-weight="bold">IRSTEA</fo:inline></fo:block>
  			<fo:block>uid:<fo:inline font-weight="bold&quot;&gt;&lt;xsl:value-of select=&quot;db&quot;/&gt;:&lt;xsl:value-of select=&quot;uid"/></fo:inline></fo:block>
  			<fo:block>id:<fo:inline font-weight="bold&quot;&gt;&lt;xsl:value-of select=&quot;id"/></fo:inline></fo:block>
  			<fo:block>prj:<fo:inline font-weight="bold&quot;&gt;&lt;xsl:value-of select=&quot;prj"/></fo:inline></fo:block>
  			<fo:block>clp:<fo:inline font-weight="bold&quot;&gt;&lt;xsl:value-of select=&quot;clp"/></fo:inline></fo:block>
  		</fo:table-cell>
  	  	</fo:table-row>
  </fo:table-body>
  </fo:table>
   <fo:block page-break-after="always"/>

  </xsl:template>
</xsl:stylesheet>•uid,id,clp,db,col]]>
	</initial-data>
</table>

<sequence name="storage_storage_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<view name="last_photo" layer="0" collapse-mode="2" max-obj-count="1">
	<schema name="col"/>
	<role name="collec"/>
	<position x="1320" y="480"/>
	<reference>
		<expression><![CDATA[ SELECT d.document_id,
    d.uid
   FROM col.document d
  WHERE (d.document_id = ( SELECT d1.document_id
           FROM col.document d1
          WHERE ((d1.mime_type_id = ANY (ARRAY[4, 5, 6])) AND (d.uid = d1.uid))
          ORDER BY d1.document_creation_date DESC, d1.document_import_date DESC, d1.document_id DESC
         LIMIT 1));]]></expression>
	<column name="document_id">
		<type name="integer" length="0"/>
	</column>
	<column name="uid">
		<type name="integer" length="0"/>
	</column>
		<reftable name="col.document"/>
	</reference>
</view>

<relationship name="rel_last_photo_document" type="reltv" layer="0"
	 custom-color="#2aed43"
	 src-table="col.last_photo"
	 dst-table="col.document"
	 src-required="false" dst-required="false"/>

<sequence name="metadata_metadata_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="metadata" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of metadata usable with types of samples]]></comment>
	<tag name="sample"/>
	<position x="800" y="1620"/>
	<column name="metadata_id" not-null="true" sequence="col.metadata_metadata_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="metadata_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the metadata set]]></comment>
	</column>
	<column name="metadata_schema">
		<type name="json" length="0"/>
		<comment><![CDATA[JSON schema of the metadata form]]></comment>
	</column>
	<constraint name="metadata_pk" type="pk-constr" table="col.metadata">
		<columns names="metadata_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="mime_type_mime_type_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="mime_type" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Mime types of imported files]]></comment>
	<tag name="objects"/>
	<position x="1540" y="480"/>
	<column name="mime_type_id" not-null="true" sequence="col.mime_type_mime_type_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="extension" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[File extension]]></comment>
	</column>
	<column name="content_type" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Official mime type]]></comment>
	</column>
	<constraint name="mime_type_pk" type="pk-constr" table="col.mime_type">
		<columns names="mime_type_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[extension•content_type⸣
pdf•application/pdf⸣
zip•application/zip⸣
mp3•audio/mpeg⸣
jpg•image/jpeg⸣
jpeg•image/jpeg⸣
png•image/png⸣
tiff•image/tiff⸣
csv•text/csv⸣
odt•application/vnd.oasis.opendocument.text⸣
ods•application/vnd.oasis.opendocument.spreadsheet⸣
xls•application/vnd.ms-excel⸣
xlsx•application/vnd.openxmlformats-officedocument.spreadsheetml.sheet⸣
doc•application/msword⸣
docx•application/vnd.openxmlformats-officedocument.wordprocessingml.document⸣
ab1•application/octet-stream⸣
seq•application/octet-stream⸣
fa•application/octet-stream⸣
fsa•application/octet-stream⸣
xml•application/xml]]>
	</initial-data>
</table>

<sequence name="storage_reason_storage_reason_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<sequence name="movement_type_movement_type_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="movement_type" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Type de mouvement]]></comment>
	<tag name="movement"/>
	<position x="1080" y="1380"/>
	<column name="movement_type_id" not-null="true" sequence="col.movement_type_movement_type_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="movement_type_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<constraint name="movement_type_pk" type="pk-constr" table="col.movement_type">
		<columns names="movement_type_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[movement_type_id•movement_type_name⸣
1•Entrée/Entry⸣
2•Sortie/Exit]]>
	</initial-data>
</table>

<sequence name="multiple_type_multiple_type_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="multiple_type" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of categories of potential sub-sampling (unit, quantity, percentage, etc.)]]></comment>
	<tag name="sample"/>
	<position x="600" y="1380"/>
	<column name="multiple_type_id" not-null="true" sequence="col.multiple_type_multiple_type_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="multiple_type_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<constraint name="multiple_type_pk" type="pk-constr" table="col.multiple_type">
		<columns names="multiple_type_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[multiple_type_name⸣
Unité⸣
Pourcentage⸣
Quantité ou volume⸣
Autre]]>
	</initial-data>
</table>

<sequence name="object_uid_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<sequence name="object_identifier_object_identifier_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="object_identifier" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of complementary identifiers]]></comment>
	<tag name="objects"/>
	<position x="1940" y="640"/>
	<column name="object_identifier_id" not-null="true" sequence="col.object_identifier_object_identifier_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="uid" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="identifier_type_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="object_identifier_value" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Identifier value]]></comment>
	</column>
	<constraint name="object_identifier_pk" type="pk-constr" table="col.object_identifier">
		<columns names="object_identifier_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="object_status_object_status_id_seq" cycle="false" start="7" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="object_status" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of types of status]]></comment>
	<tag name="objects"/>
	<position x="2180" y="840"/>
	<column name="object_status_id" not-null="true" sequence="col.object_status_object_status_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="object_status_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<constraint name="object_status_pk" type="pk-constr" table="col.object_status">
		<columns names="object_status_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[object_status_id•object_status_name⸣
1•État normal⸣
2•Objet pré-réservé pour usage ultérieur⸣
4•Echantillon vidé de tout contenu⸣
5•Container plein⸣
3•Objet détruit⸣
6•Objet prêté]]>
	</initial-data>
</table>

<extension name="postgis">
	<schema name="public"/>
</extension>

<sequence name="operation_operation_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="operation" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of operations attached to a protocol]]></comment>
	<tag name="collection"/>
	<position x="600" y="1120"/>
	<column name="operation_id" not-null="true" sequence="col.operation_operation_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="protocol_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="operation_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<column name="operation_order">
		<type name="integer" length="0"/>
		<comment><![CDATA[Order to perform the operation in the protocol]]></comment>
	</column>
	<column name="operation_version">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Version of the operation]]></comment>
	</column>
	<column name="last_edit_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Last edit date of the operation]]></comment>
	</column>
	<constraint name="operation_name_version_unique" type="uq-constr" table="col.operation">
		<columns names="operation_name,operation_version" ref-type="src-columns"/>
	</constraint>
	<constraint name="operation_pk" type="pk-constr" table="col.operation">
		<columns names="operation_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="printer_printer_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="printer" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of printers directly managed by the server]]></comment>
	<tag name="container"/>
	<position x="1320" y="1620"/>
	<column name="printer_id" not-null="true" sequence="col.printer_printer_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="printer_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Usual name of the printer, displayed in the forms]]></comment>
	</column>
	<column name="printer_queue" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the printer known by the operating system of the server]]></comment>
	</column>
	<column name="printer_server">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Server address, if the printer is not connected at the localhost]]></comment>
	</column>
	<column name="printer_user">
		<type name="character varying" length="0"/>
		<comment><![CDATA[User used to print, if necessary]]></comment>
	</column>
	<column name="printer_comment">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Comment]]></comment>
	</column>
	<constraint name="printer_pk" type="pk-constr" table="col.printer">
		<columns names="printer_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="collection" layer="0" collapse-mode="2" max-obj-count="10">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of all collections into the database]]></comment>
	<tag name="collection"/>
	<position x="800" y="480"/>
	<column name="collection_id" not-null="true" sequence="col.project_project_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="collection_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<column name="referent_id">
		<type name="integer" length="0"/>
	</column>
	<column name="allowed_import_flow" default-value="'f'">
		<type name="boolean" length="0"/>
		<comment><![CDATA[Allow an external source to update a collection]]></comment>
	</column>
	<column name="allowed_export_flow" default-value="'f'">
		<type name="boolean" length="0"/>
		<comment><![CDATA[Allow interrogation requests from external sources]]></comment>
	</column>
	<column name="public_collection" default-value="'f'">
		<type name="boolean" length="0"/>
		<comment><![CDATA[Set if a collection can be requested without authentication]]></comment>
	</column>
	<column name="collection_keywords">
		<type name="varchar" length="0"/>
		<comment><![CDATA[List of keywords, separed by a comma]]></comment>
	</column>
	<column name="collection_displayname">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name used to communicate from the collection, in export module by example]]></comment>
	</column>
	<constraint name="project_pk" type="pk-constr" table="col.collection">
		<columns names="collection_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="protocol_protocol_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="protocol" layer="0" collapse-mode="2" max-obj-count="9">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of protocols]]></comment>
	<tag name="collection"/>
	<position x="600" y="840"/>
	<column name="protocol_id" not-null="true" sequence="col.protocol_protocol_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="protocol_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the protocol]]></comment>
	</column>
	<column name="protocol_file">
		<type name="bytea" length="0"/>
		<comment><![CDATA[PDF description of the protocol]]></comment>
	</column>
	<column name="protocol_year">
		<type name="smallint" length="0"/>
		<comment><![CDATA[Year of the protocol]]></comment>
	</column>
	<column name="protocol_version" not-null="true" default-value="'v1.0'">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Version of the protocol]]></comment>
	</column>
	<column name="collection_id">
		<type name="integer" length="0"/>
	</column>
	<column name="authorization_number">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Number of the prelevement authorization]]></comment>
	</column>
	<column name="authorization_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of the prelevement authorization]]></comment>
	</column>
	<constraint name="protocol_pk" type="pk-constr" table="col.protocol">
		<columns names="protocol_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="referent_referent_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="referent" layer="0" collapse-mode="2" max-obj-count="14">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of sample referents]]></comment>
	<tag name="collection"/>
	<position x="1060" y="480"/>
	<column name="referent_id" not-null="true" sequence="col.referent_referent_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="referent_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name, firstname-lastname or department name]]></comment>
	</column>
	<column name="referent_email">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Email for contact]]></comment>
	</column>
	<column name="address_name">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name for postal address]]></comment>
	</column>
	<column name="address_line2">
		<type name="character varying" length="0"/>
		<comment><![CDATA[second line in postal address]]></comment>
	</column>
	<column name="address_line3">
		<type name="character varying" length="0"/>
		<comment><![CDATA[third line in postal address]]></comment>
	</column>
	<column name="address_city">
		<type name="character varying" length="0"/>
		<comment><![CDATA[ZIPCode and City in postal address]]></comment>
	</column>
	<column name="address_country">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Country in postal address]]></comment>
	</column>
	<column name="referent_phone">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Contact phone]]></comment>
	</column>
	<column name="referent_firstname">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Firstname of the referent
]]></comment>
	</column>
	<column name="academical_directory">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Academical directory used to identifier the referent, as https://orcid.org or https://www.researchgate.net]]></comment>
	</column>
	<column name="academical_link">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Link used to identify the referent, as https://orcid.org/0000-0003-4207-4107]]></comment>
	</column>
	<constraint name="referent_pk" type="pk-constr" table="col.referent">
		<columns names="referent_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="sample_sample_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="sample" layer="0" collapse-mode="2" max-obj-count="15">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of samples]]></comment>
	<tag name="sample"/>
	<position x="800" y="840"/>
	<column name="sample_id" not-null="true" sequence="col.sample_sample_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="uid" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="collection_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="sample_type_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="sample_creation_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Creation date of the record in the database]]></comment>
	</column>
	<column name="sampling_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Creation date of the physical sample or date of sampling]]></comment>
	</column>
	<column name="parent_sample_id">
		<type name="integer" length="0"/>
	</column>
	<column name="multiple_value">
		<type name="double precision" length="0"/>
	</column>
	<column name="sampling_place_id">
		<type name="integer" length="0"/>
	</column>
	<column name="dbuid_origin">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Reference used in the original database, under the form db:uid. Used for read the labels created in others instances]]></comment>
	</column>
	<column name="metadata">
		<type name="json" length="0"/>
		<comment><![CDATA[Metadata associated with the sample, in JSON format]]></comment>
	</column>
	<column name="expiration_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of expiration of the sample. After this date, the sample is not usable]]></comment>
	</column>
	<constraint name="sample_pk" type="pk-constr" table="col.sample">
		<columns names="sample_id" ref-type="src-columns"/>
	</constraint>

	<customidxs object-type="column">
		<object name="campaign_id" index="12"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="campaign_fk" index="6"/>
	</customidxs>
</table>

<sequence name="sample_type_sample_type_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="sample_type" layer="0" collapse-mode="2" max-obj-count="10">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of the types of samples]]></comment>
	<tag name="sample"/>
	<position x="800" y="1380"/>
	<column name="sample_type_id" not-null="true" sequence="col.sample_type_sample_type_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="sample_type_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the type]]></comment>
	</column>
	<column name="container_type_id">
		<type name="integer" length="0"/>
	</column>
	<column name="multiple_type_id">
		<type name="integer" length="0"/>
	</column>
	<column name="multiple_unit">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the unit used  to qualify the number of sub-samples (ml, number, g, etc.)]]></comment>
	</column>
	<column name="metadata_id">
		<type name="integer" length="0"/>
	</column>
	<column name="operation_id">
		<type name="integer" length="0"/>
	</column>
	<column name="identifier_generator_js">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Javascript function code used to automaticaly generate a working identifier from the intered information]]></comment>
	</column>
	<column name="sample_type_description">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Description of the type of sample]]></comment>
	</column>
	<constraint name="sample_type_pk" type="pk-constr" table="col.sample_type">
		<columns names="sample_type_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="sampling_place_sampling_place_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="sampling_place" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of sampling places]]></comment>
	<tag name="collection"/>
	<position x="600" y="640"/>
	<column name="sampling_place_id" not-null="true" sequence="col.sampling_place_sampling_place_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="sampling_place_name" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the sampling place]]></comment>
	</column>
	<column name="collection_id">
		<type name="integer" length="0"/>
		<comment><![CDATA[Collection of rattachment]]></comment>
	</column>
	<column name="sampling_place_code">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Working code of the station]]></comment>
	</column>
	<column name="sampling_place_x">
		<type name="double precision" length="0"/>
		<comment><![CDATA[Longitude of the station, in WGS84]]></comment>
	</column>
	<column name="sampling_place_y">
		<type name="double precision" length="0"/>
		<comment><![CDATA[Latitude of the station, in WGS84]]></comment>
	</column>
	<constraint name="sampling_place_pk" type="pk-constr" table="col.sampling_place">
		<columns names="sampling_place_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="storage_condition_storage_condition_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="storage_condition" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of the conditions of storage]]></comment>
	<tag name="container"/>
	<position x="1940" y="1500"/>
	<column name="storage_condition_id" not-null="true" sequence="col.storage_condition_storage_condition_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="storage_condition_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<constraint name="storage_condition_pk" type="pk-constr" table="col.storage_condition">
		<columns names="storage_condition_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="movement_reason" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of the reasons of the movement]]></comment>
	<tag name="movement"/>
	<position x="1320" y="1380"/>
	<column name="movement_reason_id" not-null="true" sequence="col.storage_reason_storage_reason_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="movement_reason_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<constraint name="storage_reason_pk" type="pk-constr" table="col.movement_reason">
		<columns names="movement_reason_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="movement" layer="0" collapse-mode="2" max-obj-count="13">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Records of objects movements]]></comment>
	<tag name="movement"/>
	<position x="1320" y="1120"/>
	<column name="movement_id" not-null="true" sequence="col.storage_storage_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="uid" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="container_id">
		<type name="integer" length="0"/>
	</column>
	<column name="movement_type_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="movement_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date-time of the movement]]></comment>
	</column>
	<column name="storage_location">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Place of the object in the container, in textual form]]></comment>
	</column>
	<column name="login" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the operator who performed the operation]]></comment>
	</column>
	<column name="movement_comment">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Comment]]></comment>
	</column>
	<column name="movement_reason_id">
		<type name="integer" length="0"/>
	</column>
	<column name="column_number" not-null="true" default-value="1">
		<type name="integer" length="0"/>
		<comment><![CDATA[Number of the storage column in the container]]></comment>
	</column>
	<column name="line_number" not-null="true" default-value="1">
		<type name="integer" length="0"/>
		<comment><![CDATA[Number of the storage line in the container]]></comment>
	</column>
	<constraint name="storage_pk" type="pk-constr" table="col.movement">
		<columns names="movement_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="subsample_subsample_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="subsample" layer="0" collapse-mode="2" max-obj-count="8">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of sub-sample takes and returns]]></comment>
	<tag name="sample"/>
	<position x="1080" y="1120"/>
	<column name="subsample_id" not-null="true" sequence="col.subsample_subsample_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="sample_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="subsample_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date-time of the operation]]></comment>
	</column>
	<column name="movement_type_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="subsample_quantity">
		<type name="double precision" length="0"/>
		<comment><![CDATA[Quantity taken or returned]]></comment>
	</column>
	<column name="subsample_comment">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Comment on this operation]]></comment>
	</column>
	<column name="subsample_login" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Login of the user who perform this operation]]></comment>
	</column>
	<constraint name="subsample_pk" type="pk-constr" table="col.subsample">
		<columns names="subsample_id" ref-type="src-columns"/>
	</constraint>
</table>

<view name="v_object_identifier" layer="0" collapse-mode="2" max-obj-count="1">
	<schema name="col"/>
	<role name="collec"/>
	<position x="2180" y="480"/>
	<reference>
		<expression><![CDATA[ SELECT object_identifier.uid,
    array_to_string(array_agg((((identifier_type.identifier_type_code)::text || ':'::text) || (object_identifier.object_identifier_value)::text) ORDER BY identifier_type.identifier_type_code, object_identifier.object_identifier_value), ','::text) AS identifiers
   FROM (col.object_identifier
     JOIN col.identifier_type USING (identifier_type_id))
  GROUP BY object_identifier.uid
  ORDER BY object_identifier.uid;]]></expression>
	<column name="uid">
		<type name="integer" length="0"/>
	</column>
	<column name="identifiers">
		<type name="text" length="0"/>
	</column>
		<reftable name="col.identifier_type"/>
		<reftable name="col.object_identifier"/>
	</reference>
</view>

<relationship name="rel_v_object_identifier_identifier_type" type="reltv" layer="0"
	 custom-color="#ffec17"
	 src-table="col.v_object_identifier"
	 dst-table="col.identifier_type"
	 src-required="false" dst-required="false"/>

<relationship name="rel_v_object_identifier_object_identifier" type="reltv" layer="0"
	 custom-color="#321312"
	 src-table="col.v_object_identifier"
	 dst-table="col.object_identifier"
	 src-required="false" dst-required="false"/>

<sequence name="aclgroup_aclgroup_id_seq" cycle="false" start="7" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="gacl"/>
	<role name="collec"/>
</sequence>

<table name="aclacl" layer="1" collapse-mode="2" max-obj-count="3">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[Table of rights granted]]></comment>
	<tag name="acl"/>
	<position x="20" y="40"/>
	<column name="aclaco_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="aclgroup_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<constraint name="aclacl_pk" type="pk-constr" table="gacl.aclacl">
		<columns names="aclaco_id,aclgroup_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[aclaco_id•aclgroup_id⸣
1•1⸣
2•5⸣
3•4⸣
4•3⸣
5•2⸣
6•6]]>
	</initial-data>
</table>

<sequence name="aclaco_aclaco_id_seq" cycle="false" start="7" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="gacl"/>
	<role name="collec"/>
</sequence>

<table name="aclaco" layer="1" collapse-mode="2" max-obj-count="3">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[Table of managed rights]]></comment>
	<tag name="acl"/>
	<position x="200" y="40"/>
	<column name="aclaco_id" not-null="true" sequence="gacl.aclaco_aclaco_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="aclappli_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="aco" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the right in the application]]></comment>
	</column>
	<constraint name="aclaco_pk" type="pk-constr" table="gacl.aclaco">
		<columns names="aclaco_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[aclaco_id•aclappli_id•aco⸣
1•1•admin⸣
5•1•consult⸣
2•1•param⸣
6•1•import⸣
3•1•collection⸣
4•1•gestion]]>
	</initial-data>
</table>

<sequence name="aclappli_aclappli_id_seq" cycle="false" start="2" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="gacl"/>
	<role name="collec"/>
</sequence>

<table name="aclappli" layer="1" collapse-mode="2" max-obj-count="3">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[Table of managed applications]]></comment>
	<tag name="acl"/>
	<position x="360" y="40"/>
	<column name="aclappli_id" not-null="true" sequence="gacl.aclappli_aclappli_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="appli" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Code of the application used to manage the rights]]></comment>
	</column>
	<column name="applidetail">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Description of the application]]></comment>
	</column>
	<constraint name="aclappli_pk" type="pk-constr" table="gacl.aclappli">
		<columns names="aclappli_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[aclappli_id•appli•applidetail⸣
1•col•Collec-Science]]>
	</initial-data>
</table>

<table name="aclgroup" layer="1" collapse-mode="2" max-obj-count="3">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[Groups of logins]]></comment>
	<tag name="acl"/>
	<position x="20" y="180"/>
	<column name="aclgroup_id" not-null="true" sequence="gacl.aclgroup_aclgroup_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="groupe" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the group]]></comment>
	</column>
	<column name="aclgroup_id_parent">
		<type name="integer" length="0"/>
		<comment><![CDATA[Parent group who inherits of the rights attributed to this group]]></comment>
	</column>
	<constraint name="aclgroup_pk" type="pk-constr" table="gacl.aclgroup">
		<columns names="aclgroup_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[aclgroup_id•groupe•aclgroup_id_parent⸣
1•admin•⸣
2•consult•⸣
3•gestion•2⸣
4•collection•3⸣
5•param•4⸣
6•import•3]]>
	</initial-data>
</table>

<sequence name="acllogin_acllogin_id_seq" cycle="false" start="2" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="gacl"/>
	<role name="collec"/>
</sequence>

<table name="acllogin" layer="1" collapse-mode="2" max-obj-count="3">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[List of logins granted to access to the modules of the application]]></comment>
	<tag name="acl"/>
	<position x="360" y="180"/>
	<column name="acllogin_id" not-null="true" sequence="gacl.acllogin_acllogin_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="login" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Login. It must be the same as the table logingestion]]></comment>
	</column>
	<column name="logindetail" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Displayed name]]></comment>
	</column>
	<constraint name="acllogin_pk" type="pk-constr" table="gacl.acllogin">
		<columns names="acllogin_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[acllogin_id•login•logindetail⸣
1•admin•admin]]>
	</initial-data>
</table>

<table name="acllogingroup" layer="1" collapse-mode="2" max-obj-count="3">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[List of logins in the groups]]></comment>
	<tag name="acl"/>
	<position x="200" y="180"/>
	<column name="acllogin_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="aclgroup_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<constraint name="acllogingroup_pk" type="pk-constr" table="gacl.acllogingroup">
		<columns names="acllogin_id,aclgroup_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[acllogin_id•aclgroup_id⸣
1•1⸣
1•5]]>
	</initial-data>
</table>

<sequence name="log_log_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="gacl"/>
	<role name="collec"/>
</sequence>

<table name="log" layer="1" collapse-mode="2" max-obj-count="7">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[List of all recorded operations (logins, calls of modules, etc.)]]></comment>
	<tag name="acl"/>
	<position x="760" y="40"/>
	<column name="log_id" not-null="true" sequence="gacl.log_log_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="login" not-null="true">
		<type name="character varying" length="32"/>
		<comment><![CDATA[Code of the login who performs the operation]]></comment>
	</column>
	<column name="nom_module">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Name of the performed module]]></comment>
	</column>
	<column name="log_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date-time of the operation]]></comment>
	</column>
	<column name="commentaire">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Complementary data recorded]]></comment>
	</column>
	<column name="ipaddress">
		<type name="character varying" length="0"/>
		<comment><![CDATA[IP address of the client]]></comment>
	</column>
	<constraint name="log_pk" type="pk-constr" table="gacl.log">
		<columns names="log_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="seq_logingestion_id" cycle="false" start="2" increment="1" min-value="1" max-value="999999" cache="1">
	<schema name="gacl"/>
	<role name="postgres"/>
</sequence>

<table name="logingestion" layer="1" collapse-mode="2" max-obj-count="13">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[List of logins used to connect to the application, when the account is managed by the application itself. This table also contains the accounts authorized to use the web services.]]></comment>
	<tag name="acl"/>
	<position x="540" y="180"/>
	<column name="id" not-null="true" sequence="gacl.seq_logingestion_id">
		<type name="integer" length="0"/>
	</column>
	<column name="login" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Login used by the user]]></comment>
	</column>
	<column name="password">
		<type name="varchar" length="0"/>
	</column>
	<column name="nom">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the user]]></comment>
	</column>
	<column name="prenom">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Surname]]></comment>
	</column>
	<column name="mail">
		<type name="character varying" length="255"/>
		<comment><![CDATA[email. Used to send password loss messages]]></comment>
	</column>
	<column name="datemodif">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Last date of change of the record]]></comment>
	</column>
	<column name="actif" default-value="1">
		<type name="smallint" length="0"/>
		<comment><![CDATA[If 1, the account is active and can be logging to the application]]></comment>
	</column>
	<column name="is_clientws" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[True if the login is used by a third-party application to call a web-service]]></comment>
	</column>
	<column name="tokenws">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Identification token used for the third-parties applications]]></comment>
	</column>
	<column name="is_expired" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[If true, the account is expired (password older)]]></comment>
	</column>
	<constraint name="pk_logingestion" type="pk-constr" table="gacl.logingestion">
		<columns names="id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[id•login•password•nom•prenom•mail•datemodif•actif•is_clientws•tokenws•is_expired⸣
1•admin•cd916028a2d8a1b901e831246dd5b9b4d3832786ddc63bbf5af4b50d9fc98f50•Administrator••admin@mysociety.com•2017-08-24 00:00:00•1•false••false]]>
	</initial-data>
</table>

<sequence name="passwordlost_passwordlost_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="gacl"/>
	<role name="collec"/>
</sequence>

<table name="passwordlost" layer="1" collapse-mode="2" max-obj-count="6">
	<schema name="gacl"/>
	<role name="collec"/>
	<comment><![CDATA[Password loss tracking table]]></comment>
	<tag name="acl"/>
	<position x="540" y="40"/>
	<column name="passwordlost_id" not-null="true" sequence="gacl.passwordlost_passwordlost_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="id" not-null="true">
		<type name="integer" length="0"/>
		<comment><![CDATA[Logingestion id key]]></comment>
	</column>
	<column name="token" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Token used to renewal]]></comment>
	</column>
	<column name="expiration" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Expiration date-time of the token]]></comment>
	</column>
	<column name="usedate">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Used date-time of the token]]></comment>
	</column>
	<constraint name="passwordlost_pk" type="pk-constr" table="gacl.passwordlost">
		<columns names="passwordlost_id" ref-type="src-columns"/>
	</constraint>
</table>

<index name="object_identifier_value_idx" table="col.object_identifier"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="gin" factor="0">
		<idxelement use-sorting="false">
			<column name="object_identifier_value"/>
		</idxelement>
</index>

<index name="referent_referent_name_idx" table="col.referent"
	 concurrent="false" unique="true" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="referent_name"/>
		</idxelement>
</index>

<index name="sample_dbuid_origin_idx" table="col.sample"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="gin" factor="0">
		<idxelement use-sorting="false">
			<column name="dbuid_origin"/>
		</idxelement>
</index>

<index name="sample_expiration_date_idx" table="col.sample"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="expiration_date"/>
		</idxelement>
</index>

<index name="sample_sample_creation_date_idx" table="col.sample"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="sample_creation_date"/>
		</idxelement>
</index>

<index name="sample_sampling_date_idx" table="col.sample"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="sampling_date"/>
		</idxelement>
</index>

<index name="log_date_idx" table="gacl.log"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="log_date"/>
		</idxelement>
</index>

<index name="log_login_idx" table="gacl.log"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="login"/>
		</idxelement>
</index>

<index name="log_commentaire_idx" table="gacl.log"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="commentaire"/>
		</idxelement>
</index>

<index name="logingestion_login_idx" table="gacl.logingestion"
	 concurrent="false" unique="true" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="login"/>
		</idxelement>
</index>

<index name="log_ip_idx" table="gacl.log"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="ipaddress"/>
		</idxelement>
</index>

<view name="last_movement" layer="0" collapse-mode="2" max-obj-count="1">
	<schema name="col"/>
	<role name="collec"/>
	<position x="1760" y="1120"/>
	<reference>
		<expression><![CDATA[ SELECT s.uid,
    s.movement_id,
    s.movement_date,
    s.movement_type_id,
    s.container_id,
    c.uid AS container_uid,
    s.line_number,
    s.column_number,
    s.movement_reason_id
   FROM (col.movement s
     LEFT JOIN col.container c USING (container_id))
  WHERE (s.movement_id = ( SELECT st.movement_id
           FROM col.movement st
          WHERE (s.uid = st.uid)
          ORDER BY st.movement_date DESC
         LIMIT 1));]]></expression>
	<column name="uid">
		<type name="integer" length="0"/>
	</column>
	<column name="movement_id">
		<type name="integer" length="0"/>
	</column>
	<column name="movement_date">
		<type name="timestamp" length="0"/>
	</column>
	<column name="movement_type_id">
		<type name="integer" length="0"/>
	</column>
	<column name="container_id">
		<type name="integer" length="0"/>
	</column>
	<column name="container_uid">
		<type name="integer" length="0"/>
	</column>
	<column name="line_number">
		<type name="integer" length="0"/>
	</column>
	<column name="column_number">
		<type name="integer" length="0"/>
	</column>
	<column name="movement_reason_id">
		<type name="integer" length="0"/>
	</column>
		<reftable name="col.container"/>
		<reftable name="col.movement"/>
	</reference>
</view>

<relationship name="rel_last_movement_container" type="reltv" layer="0"
	 custom-color="#89a814"
	 src-table="col.last_movement"
	 dst-table="col.container"
	 src-required="false" dst-required="false"/>

<relationship name="rel_last_movement_movement" type="reltv" layer="0"
	 custom-color="#1b26ac"
	 src-table="col.last_movement"
	 dst-table="col.movement"
	 src-required="false" dst-required="false"/>

<sequence name="borrower_borrower_id_seq" cycle="false" start="1" increment="1" min-value="0" max-value="2147483647" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="borrower" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of borrowers]]></comment>
	<tag name="objects"/>
	<position x="2180" y="1380"/>
	<column name="borrower_id" not-null="true" sequence="col.borrower_borrower_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="borrower_name" not-null="true">
		<type name="character varying" length="0"/>
	</column>
	<column name="borrower_address">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Address of the borrower]]></comment>
	</column>
	<column name="borrower_phone">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Phone of the contact of the borrower]]></comment>
	</column>
	<column name="laboratory_code">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Laboratory code of the borrower]]></comment>
	</column>
	<column name="borrower_mail">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Mail of the borrower]]></comment>
	</column>
	<constraint name="borrower_pk" type="pk-constr" table="col.borrower">
		<columns names="borrower_id" ref-type="src-columns"/>
	</constraint>
</table>

<sequence name="borrowing_borrowing_id_seq" cycle="false" start="1" increment="1" min-value="0" max-value="2147483647" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="borrowing" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of borrowings]]></comment>
	<tag name="objects"/>
	<position x="1940" y="1120"/>
	<column name="borrowing_id" not-null="true" sequence="col.borrowing_borrowing_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="borrowing_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of the borrowing]]></comment>
	</column>
	<column name="expected_return_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Expected return date of the object]]></comment>
	</column>
	<column name="uid" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="borrower_id" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="return_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of return of the object]]></comment>
	</column>
	<constraint name="borrowing_pk" type="pk-constr" table="col.borrowing">
		<columns names="borrowing_id" ref-type="src-columns"/>
	</constraint>
</table>

<index name="borrowing_uid_idx" table="col.borrowing"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="uid"/>
		</idxelement>
</index>

<index name="borrowing_borrower_id_idx" table="col.borrowing"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="90">
		<idxelement use-sorting="false">
			<column name="borrower_id"/>
		</idxelement>
</index>

<view name="last_borrowing" layer="0" collapse-mode="2" max-obj-count="1">
	<schema name="col"/>
	<role name="collec"/>
	<position x="2160" y="1120"/>
	<reference>
		<expression><![CDATA[ SELECT b1.borrowing_id,
    b1.uid,
    b1.borrowing_date,
    b1.expected_return_date,
    b1.borrower_id
   FROM col.borrowing b1
  WHERE (b1.borrowing_id = ( SELECT b2.borrowing_id
           FROM col.borrowing b2
          WHERE ((b1.uid = b2.uid) AND (b2.return_date IS NULL))
          ORDER BY b2.borrowing_date DESC
         LIMIT 1));]]></expression>
	<column name="borrowing_id">
		<type name="integer" length="0"/>
	</column>
	<column name="uid">
		<type name="integer" length="0"/>
	</column>
	<column name="borrowing_date">
		<type name="timestamp" length="0"/>
	</column>
	<column name="expected_return_date">
		<type name="timestamp" length="0"/>
	</column>
	<column name="borrower_id">
		<type name="integer" length="0"/>
	</column>
		<reftable name="col.borrowing"/>
	</reference>
</view>

<relationship name="rel_last_borrowing_borrowing" type="reltv" layer="0"
	 custom-color="#2f2676"
	 src-table="col.last_borrowing"
	 dst-table="col.borrowing"
	 src-required="false" dst-required="false"/>

<extension name="btree_gin">
	<schema name="pg_catalog"/>
</extension>

<extension name="pgcrypto">
	<schema name="public"/>
</extension>

<view name="slots_used" layer="0" collapse-mode="2" max-obj-count="1">
	<schema name="col"/>
	<role name="collec"/>
	<position x="1760" y="1380"/>
	<reference>
		<expression><![CDATA[SELECT
   container_id, count(*) as nb_slots_used
FROM
   last_movement
WHERE
   movement_type_id = 1
   group by container_id;]]></expression>
	<column name="container_id">
		<type name="integer" length="0"/>
	</column>
	<column name="nb_slots_used">
		<type name="integer" length="0"/>
	</column>
	</reference>
</view>

<index name="log_module_idx" table="gacl.log"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="nom_module"/>
		</idxelement>
</index>

<sequence name="request_request_id_seq" cycle="false" start="1" increment="1" min-value="1" max-value="9223372036854775807" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="request" layer="0" collapse-mode="2" max-obj-count="8">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Request table in database]]></comment>
	<tag name="utils"/>
	<position x="1760" y="1620"/>
	<column name="request_id" not-null="true" sequence="col.request_request_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="create_date" not-null="true">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of create of the request]]></comment>
	</column>
	<column name="last_exec">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of the last execution]]></comment>
	</column>
	<column name="title" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Title of the request]]></comment>
	</column>
	<column name="body" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Body of the request. Don't begin it by SELECT, which will be added automatically]]></comment>
	</column>
	<column name="login" not-null="true">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Login of the creator of the request]]></comment>
	</column>
	<column name="datefields">
		<type name="character varying" length="0"/>
		<comment><![CDATA[List of the date fields used in the request, separated by a comma, for format it]]></comment>
	</column>
	<constraint name="request_pk" type="pk-constr" table="col.request">
		<columns names="request_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[create_date•last_exec•title•body•login•datefields⸣
/now()/••Number of samples by collection•collection_name, count(*) as "number of samples"
from sample
join collection using (collection_id)
group by collection_name•admin•]]>
	</initial-data>
</table>

<sequence name="export_model_export_model_id_seq" cycle="false" start="1" increment="1" min-value="0" max-value="2147483647" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="export_model" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Structure of an export/import of table data]]></comment>
	<tag name="utils"/>
	<position x="1540" y="1680"/>
	<column name="export_model_id" not-null="true" sequence="col.export_model_export_model_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="export_model_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the structure of export]]></comment>
	</column>
	<column name="pattern">
		<type name="json" length="0"/>
		<comment><![CDATA[Pattern of the export/import.
Structure:
[{technicalKey:string,businessKey:string,tableName:string,tableAlias:string,children[table1,table2],parentKey:string,secondaryParentKey:string}]]]></comment>
	</column>
	<column name="target">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Main table targetted]]></comment>
	</column>
	<constraint name="export_model_pk" type="pk-constr" table="col.export_model">
		<columns names="export_model_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[export_model_name•pattern⸣
export_model•[{"tableName":"export_model","businessKey":"export_model_name","istable11":false,"children":[],"booleanFields":[],"istablenn":false}]⸣
export_template•[{"tableName":"export_template","technicalKey":"export_template_id","isEmpty":false,"businessKey":"export_template_name","istable11":false,"children":[{"aliasName":"export_dataset","isStrict":true}],"parents":[],"istablenn":false},{"tableName":"export_dataset","isEmpty":false,"parentKey":"export_template_id","istable11":false,"children":[],"parents":[{"aliasName":"dataset_template","fieldName":"dataset_template_id"}],"istablenn":true,"tablenn":{"secondaryParentKey":"dataset_template_id","tableAlias":"dataset_template"}},{"tableName":"dataset_template","technicalKey":"dataset_template_id","isEmpty":true,"businessKey":"dataset_template_name","istable11":false,"children":[{"aliasName":"dataset_column","isStrict":true}],"parents":[],"istablenn":false},{"tableName":"dataset_column","technicalKey":"dataset_column_id","isEmpty":false,"parentKey":"dataset_template_id","istable11":false,"children":[],"parents":[{"aliasName":"translator","fieldName":"translator_id"}],"istablenn":false},{"tableName":"translator","technicalKey":"translator_id","isEmpty":true,"businessKey":"translator_name","istable11":false,"children":[],"parents":[],"istablenn":false}]]]>
	</initial-data>
</table>

<index name="movement_uid_idx" table="col.movement"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="uid"/>
		</idxelement>
</index>

<index name="movement_container_id_idx" table="col.movement"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="container_id"/>
		</idxelement>
</index>

<index name="movement_movement_date_desc_idx" table="col.movement"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="true" nulls-first="false" asc-order="false">
			<column name="movement_date"/>
		</idxelement>
</index>

<index name="movement_login_idx" table="col.movement"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="login"/>
		</idxelement>
</index>

<index name="container_uid_idx" table="col.container"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="uid"/>
		</idxelement>
</index>

<index name="object_identifier_uid_idx" table="col.object_identifier"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="uid"/>
		</idxelement>
</index>

<index name="sample_uid_idx" table="col.sample"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
		<idxelement use-sorting="false">
			<column name="uid"/>
		</idxelement>
</index>

<table name="object" layer="0" collapse-mode="2" max-obj-count="14">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of objects]]></comment>
	<tag name="object"/>
	<position x="1760" y="840"/>
	<column name="uid" not-null="true" sequence="col.object_uid_seq">
		<type name="integer" length="0"/>
		<comment><![CDATA[Unique identifier in the database of all objects]]></comment>
	</column>
	<column name="identifier">
		<type name="character varying" length="0"/>
		<comment><![CDATA[Main working identifier]]></comment>
	</column>
	<column name="wgs84_x">
		<type name="double precision" length="0"/>
		<comment><![CDATA[GPS longitude, in decimal form]]></comment>
	</column>
	<column name="wgs84_y">
		<type name="double precision" length="0"/>
		<comment><![CDATA[GPS latitude, in decimal form]]></comment>
	</column>
	<column name="object_status_id">
		<type name="integer" length="0"/>
	</column>
	<column name="referent_id">
		<type name="integer" length="0"/>
	</column>
	<column name="change_date" not-null="true" default-value="'now'">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Technical date of changement of the object]]></comment>
	</column>
	<column name="uuid" not-null="true" default-value="gen_random_uuid()">
		<type name="uuid" length="0"/>
		<comment><![CDATA[UUID of the object]]></comment>
	</column>
	<column name="trashed" default-value="false">
		<type name="bool" length="0"/>
		<comment><![CDATA[If the object is trashed before completly destroyed ?]]></comment>
	</column>
	<column name="location_accuracy">
		<type name="float" length="0"/>
		<comment><![CDATA[Location accuracy of the object, in meters]]></comment>
	</column>
	<column name="geom">
		<type name="geography" length="0" spatial-type="POINT" variation="0" srid="4326"/>
		<comment><![CDATA[Geographic point generate from wgs84_x and wgs84_y]]></comment>
	</column>
	<column name="object_comment">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Comment on the object (sample or container)]]></comment>
	</column>
	<constraint name="object_pk" type="pk-constr" table="col.object">
		<columns names="uid" ref-type="src-columns"/>
	</constraint>
</table>

<index name="object_identifier_idx" table="col.object"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="gin" factor="0">
		<idxelement use-sorting="false">
			<column name="identifier"/>
		</idxelement>
</index>

<index name="object_trashed" table="col.object"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="btree" factor="0">
	<comment><![CDATA[Index used when trashed is true]]></comment>
		<idxelement use-sorting="false">
			<column name="trashed"/>
		</idxelement>
	<predicate><![CDATA[trashed = true]]></predicate>
</index>

<index name="col_object_geom_idx" table="col.object"
	 concurrent="false" unique="false" fast-update="false" buffering="false"
	 index-type="gist" factor="0">
		<idxelement use-sorting="false">
			<column name="geom"/>
		</idxelement>
</index>

<sequence name="campaign_campaign_id_seq" cycle="false" start="1" increment="1" min-value="0" max-value="2147483647" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="campaign" layer="0" collapse-mode="2" max-obj-count="6">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of sampling campaigns]]></comment>
	<tag name="collection"/>
	<position x="1060" y="840"/>
	<column name="campaign_id" not-null="true" sequence="col.campaign_campaign_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="campaign_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the campaign]]></comment>
	</column>
	<column name="campaign_from">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of start of the campaign]]></comment>
	</column>
	<column name="campaign_to">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[date of end of the campaign]]></comment>
	</column>
	<constraint name="campaign_pk" type="pk-constr" table="col.campaign">
		<columns names="campaign_id" ref-type="src-columns"/>
	</constraint>

	<customidxs object-type="column">
		<object name="referent_id" index="1"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="referent_fk" index="1"/>
	</customidxs>
</table>

<sequence name="regulation_regulation_id_seq" cycle="false" start="1" increment="1" min-value="0" max-value="2147483647" cache="1">
	<schema name="col"/>
	<role name="collec"/>
</sequence>

<table name="regulation" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of regulations]]></comment>
	<tag name="collection"/>
	<position x="1320" y="640"/>
	<column name="regulation_id" not-null="true" sequence="col.regulation_regulation_id_seq">
		<type name="integer" length="0"/>
	</column>
	<column name="regulation_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the regulation]]></comment>
	</column>
	<column name="regulation_comment">
		<type name="varchar" length="0"/>
		<comment><![CDATA[regulatory clarity]]></comment>
	</column>
	<constraint name="regulation_pk" type="pk-constr" table="col.regulation">
		<columns names="regulation_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="campaign_regulation" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of regulations attached to a campaign]]></comment>
	<tag name="collection"/>
	<position x="1320" y="840"/>

	<customidxs object-type="column">
		<object name="campaign_id" index="0"/>
		<object name="regulation_id" index="1"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="campaign_fk" index="0"/>
		<object name="campaign_regulation_pk" index="1"/>
		<object name="regulation_fk" index="2"/>
	</customidxs>
</table>

<relationship name="campaign_has_many_campaign_regulation" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#97f23e"
	 src-table="col.campaign"
	 dst-table="col.campaign_regulation"
	 src-required="true" dst-required="false">
	<special-pk-cols indexes="0"/>
</relationship>

<relationship name="regulation_has_many_campaign_regulation" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#d0b24f"
	 src-table="col.regulation"
	 dst-table="col.campaign_regulation"
	 src-required="true" dst-required="false">
	<constraint name="campaign_regulation_pk" type="pk-constr" alias="campaign_regulation_pk" protected="true" table="col.campaign_regulation">
		</constraint>
	<special-pk-cols indexes="0"/>
</relationship>

<relationship name="campaign_has_many_sample" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#cbb2ff"
	 src-table="col.campaign"
	 dst-table="col.sample"
	 src-required="false" dst-required="false"/>

<relationship name="referent_has_many_campaign" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#24b903"
	 src-table="col.referent"
	 dst-table="col.campaign"
	 src-required="false" dst-required="false"/>

<relationship name="campaign_has_many_document" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#124159"
	 src-table="col.campaign"
	 dst-table="col.document"
	 src-required="false" dst-required="false"/>

<table name="lot" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of lots of export]]></comment>
	<tag name="export"/>
	<position x="440" y="640"/>
	<column name="lot_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="lot_date" not-null="true" default-value="current_timestamp">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of creation of the lot]]></comment>
	</column>
	<constraint name="lot_pk" type="pk-constr" table="col.lot">
		<columns names="lot_id" ref-type="src-columns"/>
	</constraint>

	<customidxs object-type="column">
		<object name="collection_id" index="1"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="collection_fk" index="1"/>
	</customidxs>
</table>

<relationship name="collection_has_many_lot" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#88d933"
	 src-table="col.collection"
	 dst-table="col.lot"
	 src-required="false" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="lot_sample" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of samples associated into a lot]]></comment>
	<tag name="export"/>
	<position x="440" y="840"/>
</table>

<relationship name="lot_has_many_lot_sample" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#96f8d9"
	 src-table="col.lot"
	 dst-table="col.lot_sample"
	 src-required="true" dst-required="false"
	 identifier="true"

	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<relationship name="sample_has_many_lot_sample" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#aeede5"
	 src-table="col.sample"
	 dst-table="col.lot_sample"
	 src-required="true" dst-required="false"
	 identifier="true"

	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="export" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of exports processed]]></comment>
	<tag name="export"/>
	<position x="240" y="640"/>
	<column name="export_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="export_date">
		<type name="timestamp" length="0"/>
		<comment><![CDATA[Date of last execution of the export]]></comment>
	</column>
	<constraint name="export_pk" type="pk-constr" table="col.export">
		<columns names="export_id" ref-type="src-columns"/>
	</constraint>

	<customidxs object-type="column">
		<object name="lot_id" index="1"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="lot_fk" index="1"/>
	</customidxs>
</table>

<relationship name="lot_has_many_export" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#94de74"
	 src-table="col.lot"
	 dst-table="col.export"
	 src-required="true" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="export_template" layer="0" collapse-mode="2" max-obj-count="7">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of models of export]]></comment>
	<tag name="export"/>
	<position x="20" y="640"/>
	<column name="export_template_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="export_template_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the model]]></comment>
	</column>
	<column name="export_template_description">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Description of the model]]></comment>
	</column>
	<column name="export_template_version">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Version of the model, if necessary]]></comment>
	</column>
	<column name="is_zipped" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[Specify if the generated files must be zipped]]></comment>
	</column>
	<column name="filename" not-null="true" default-value="'cs-export.csv'">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the file generated]]></comment>
	</column>
	<constraint name="export_model1_pk" type="pk-constr" table="col.export_template">
		<columns names="export_template_id" ref-type="src-columns"/>
	</constraint>
</table>

<relationship name="export_template_has_many_export" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#1e86c0"
	 src-table="col.export_template"
	 dst-table="col.export"
	 src-required="true" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="dataset_template" layer="0" collapse-mode="2" max-obj-count="12">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of templates of dataset]]></comment>
	<tag name="export"/>
	<position x="240" y="840"/>
	<column name="dataset_template_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="dataset_template_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the template]]></comment>
	</column>
	<column name="only_last_document" default-value="false">
		<type name="boolean" length="0"/>
		<comment><![CDATA[If type document, specify if only the last document attached to a sample is exported]]></comment>
	</column>
	<column name="separator">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Separator used in csv files (tab , ;)]]></comment>
	</column>
	<column name="filename" not-null="true" default-value="'cs-export.csv'">
		<type name="varchar" length="0"/>
		<comment><![CDATA[File name generated, with extension]]></comment>
	</column>
	<column name="xmlroot">
		<type name="varchar" length="0"/>
		<comment><![CDATA[xml root to generate]]></comment>
	</column>
	<column name="xmlnodename" default-value="'sample'">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of a node in a xml file, for list of samples by example]]></comment>
	</column>
	<column name="xslcontent">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Transformation of the generated xml to create a specific xml file]]></comment>
	</column>
	<constraint name="dataset_template_pk" type="pk-constr" table="col.dataset_template">
		<columns names="dataset_template_id" ref-type="src-columns"/>
	</constraint>

	<customidxs object-type="column">
		<object name="dataset_type_id" index="3"/>
		<object name="export_format_id" index="2"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="dataset_type_fk" index="2"/>
		<object name="export_format_fk" index="1"/>
	</customidxs>
</table>

<table name="export_format" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of formats of export]]></comment>
	<tag name="export"/>
	<position x="20" y="1120"/>
	<column name="export_format_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="export_format_name" not-null="true">
		<type name="varchar" length="0"/>
	</column>
	<constraint name="export_format_pk" type="pk-constr" table="col.export_format">
		<columns names="export_format_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[export_format_id•export_format_name⸣
1•CSV⸣
2•JSON⸣
3•XML]]>
	</initial-data>
</table>

<relationship name="export_format_has_many_dataset_template" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#dbf126"
	 src-table="col.export_format"
	 dst-table="col.dataset_template"
	 src-required="true" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="export_dataset" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of datasets embedded into the template of export]]></comment>
	<tag name="export"/>
	<position x="20" y="840"/>
</table>

<relationship name="export_template_has_many_export_dataset" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#0053ab"
	 src-table="col.export_template"
	 dst-table="col.export_dataset"
	 src-required="true" dst-required="false"
	 identifier="true"

	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<relationship name="dataset_template_has_many_export_dataset" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#c7e14f"
	 src-table="col.dataset_template"
	 dst-table="col.export_dataset"
	 src-required="true" dst-required="false"
	 identifier="true"

	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="dataset_column" layer="0" collapse-mode="2" max-obj-count="12">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of columns included into the dataset]]></comment>
	<tag name="export"/>
	<position x="440" y="1120"/>
	<column name="dataset_column_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="column_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the column into the database]]></comment>
	</column>
	<column name="export_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the column into the export file]]></comment>
	</column>
	<column name="subfield_name">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the field if it into the metadata description of the sample or secondary identifier, etc.]]></comment>
	</column>
	<column name="column_order" default-value="1">
		<type name="smallint" length="0"/>
		<comment><![CDATA[order of displaying in the exported file]]></comment>
	</column>
	<column name="mandatory" default-value="'f'">
		<type name="boolean" length="0"/>
		<comment><![CDATA[Is the content of the column is mandatory to export data?]]></comment>
	</column>
	<column name="default_value">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Default value, if the value is not filled in]]></comment>
	</column>
	<column name="date_format">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Export date format, in php notation. Example: d/m/Y H:i:s for 25/12/2020 17:15:00]]></comment>
	</column>
	<constraint name="dataset_column_pk" type="pk-constr" table="col.dataset_column">
		<columns names="dataset_column_id" ref-type="src-columns"/>
	</constraint>

	<customidxs object-type="column">
		<object name="dataset_template_id" index="1"/>
		<object name="translator_id" index="5"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="dataset_template_fk" index="1"/>
		<object name="translator_fk" index="2"/>
	</customidxs>
</table>

<relationship name="dataset_template_has_many_dataset_column" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#64d15a"
	 src-table="col.dataset_template"
	 dst-table="col.dataset_column"
	 src-required="true" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="translator" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Table of translator of values]]></comment>
	<tag name="export"/>
	<position x="440" y="1380"/>
	<column name="translator_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="translator_name" not-null="true">
		<type name="varchar" length="0"/>
	</column>
	<column name="translator_data">
		<type name="json" length="0"/>
		<comment><![CDATA[List of translations under the form term_in_database:term_in_the_export_file]]></comment>
	</column>
	<constraint name="translator_pk" type="pk-constr" table="col.translator">
		<columns names="translator_id" ref-type="src-columns"/>
	</constraint>
</table>

<relationship name="translator_has_many_dataset_column" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#0a6bd0"
	 src-table="col.translator"
	 dst-table="col.dataset_column"
	 src-required="false" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="dataset_type" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[Origine of the dataset: sample, collection, document]]></comment>
	<tag name="export"/>
	<position x="240" y="1120"/>
	<column name="dataset_type_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="dataset_type_name" not-null="true">
		<type name="varchar" length="0"/>
	</column>
	<column name="fields">
		<type name="json" length="0"/>
		<comment><![CDATA[List of allowed fields of the database (json array)]]></comment>
	</column>
	<constraint name="dataset_type_pk" type="pk-constr" table="col.dataset_type">
		<columns names="dataset_type_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[dataset_type_id•dataset_type_name•fields⸣
1•sample•["uid","uuid","identifier","wgs84_x","wgs84_y","location_accuracy","object_status_name","referent_name","referent_email","address_name","address_line2","address_line3","address_city","address_country","referent_phone","referent_firstname","academic_directory","academic_link","object_comment","identifiers","sample_creation_date","sampling_date","multiple_value","sampling_place_name","expiration_date","sample_type_name","storage_product","clp_classification","multiple_type_name","collection_name","metadata","parent_uid","parent_uuid","parent_identifiers","web_address","content_type","container_uid","container_identifier","container_uuid","storage_type_name","fixed_value"]⸣
2•collection•["collection_name","collection_displayname","collection_keywords","referent_name","referent_firstname","academical_directory","academical_link","referent_email","address_name","address_line2","address_line3","address_city","address_country","referent_phone","fixed_value"]⸣
3•document•["document_name","document_uuid","uid","sample_uuid","identifier","content_type","extension","size","document_creation_date","fixed_value", "web_address"]⸣
4•arbitrary content•["content"]]]>
	</initial-data>
</table>

<relationship name="dataset_type_has_many_dataset_template" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#2927b8"
	 src-table="col.dataset_type"
	 dst-table="col.dataset_template"
	 src-required="true" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="samplesearch" layer="0" collapse-mode="2" max-obj-count="6">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of sample saved search]]></comment>
	<tag name="utils"/>
	<position x="440" y="480"/>
	<column name="samplesearch_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="samplesearch_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the search parameters]]></comment>
	</column>
	<column name="samplesearch_data">
		<type name="json" length="0"/>
		<comment><![CDATA[List of all research parameters]]></comment>
	</column>
	<column name="samplesearch_login">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Login of the creator]]></comment>
	</column>

	<customidxs object-type="column">
		<object name="collection_id" index="4"/>
	</customidxs>

	<customidxs object-type="constraint">
		<object name="collection_fk" index="0"/>
	</customidxs>
</table>

<relationship name="collection_has_many_samplesearch" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#62c192"
	 src-table="col.collection"
	 dst-table="col.samplesearch"
	 src-required="false" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<table name="license" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="col"/>
	<role name="collec"/>
	<comment><![CDATA[List of licenses usable to communicate informations on the collections]]></comment>
	<tag name="collection"/>
	<position x="600" y="480"/>
	<column name="license_id" not-null="true">
		<type name="serial" length="0"/>
	</column>
	<column name="license_name" not-null="true">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Name of the license]]></comment>
	</column>
	<column name="license_url">
		<type name="varchar" length="0"/>
		<comment><![CDATA[Link of download of the text of the license]]></comment>
	</column>
	<constraint name="license_pk" type="pk-constr" table="col.license">
		<columns names="license_id" ref-type="src-columns"/>
	</constraint>
	<initial-data>
<![CDATA[license_name•license_url⸣
CC0•https:\/\/creativecommons.org\/publicdomain\/zero\/1.0\/⸣
CCBY•https:\/\/creativecommons.org\/licenses\/by\/4.0\/]]>
	</initial-data>
</table>

<relationship name="license_has_many_collection" type="rel1n" layer="0"
	 src-col-pattern="{sc}"
	 pk-pattern="{dt}_pk" uq-pattern="{dt}_uq"
	 src-fk-pattern="{st}_fk"
	 custom-color="#874322"
	 src-table="col.license"
	 dst-table="col.collection"
	 src-required="false" dst-required="false"
	 deferrable="true" defer-type="INITIALLY IMMEDIATE"/>

<constraint name="object_booking_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object" table="col.booking">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="group_projet_aclgroup_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.aclgroup" table="col.collection_group">
	<columns names="aclgroup_id" ref-type="src-columns"/>
	<columns names="aclgroup_id" ref-type="dst-columns"/>
</constraint>

<constraint name="project_projet_group_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.collection" table="col.collection_group">
	<columns names="collection_id" ref-type="src-columns"/>
	<columns names="collection_id" ref-type="dst-columns"/>
</constraint>

<constraint name="container_type_container_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.container_type" table="col.container">
	<columns names="container_type_id" ref-type="src-columns"/>
	<columns names="container_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_container_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object" table="col.container">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="container_family_container_type_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.container_family" table="col.container_type">
	<columns names="container_family_id" ref-type="src-columns"/>
	<columns names="container_family_id" ref-type="dst-columns"/>
</constraint>

<constraint name="label_container_type_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.label" table="col.container_type">
	<columns names="label_id" ref-type="src-columns"/>
	<columns names="label_id" ref-type="dst-columns"/>
</constraint>

<constraint name="storage_condition_container_type_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.storage_condition" table="col.container_type">
	<columns names="storage_condition_id" ref-type="src-columns"/>
	<columns names="storage_condition_id" ref-type="dst-columns"/>
</constraint>

<constraint name="mime_type_document_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.mime_type" table="col.document">
	<columns names="mime_type_id" ref-type="src-columns"/>
	<columns names="mime_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_document_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object" table="col.document">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="event_type_event_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.event_type" table="col.event">
	<columns names="event_type_id" ref-type="src-columns"/>
	<columns names="event_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_event_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object" table="col.event">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="metadata_label_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.metadata" table="col.label">
	<columns names="metadata_id" ref-type="src-columns"/>
	<columns names="metadata_id" ref-type="dst-columns"/>
</constraint>

<constraint name="identifier_type_object_identifier_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.identifier_type" table="col.object_identifier">
	<columns names="identifier_type_id" ref-type="src-columns"/>
	<columns names="identifier_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_object_identifier_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object" table="col.object_identifier">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="protocol_operation_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.protocol" table="col.operation">
	<columns names="protocol_id" ref-type="src-columns"/>
	<columns names="protocol_id" ref-type="dst-columns"/>
</constraint>

<constraint name="referent_collection_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.referent" table="col.collection">
	<columns names="referent_id" ref-type="src-columns"/>
	<columns names="referent_id" ref-type="dst-columns"/>
</constraint>

<constraint name="project_protocol_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.collection" table="col.protocol">
	<columns names="collection_id" ref-type="src-columns"/>
	<columns names="collection_id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_sample_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object" table="col.sample">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="project_sample_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.collection" table="col.sample">
	<columns names="collection_id" ref-type="src-columns"/>
	<columns names="collection_id" ref-type="dst-columns"/>
</constraint>

<constraint name="sample_sample_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.sample" table="col.sample">
	<columns names="parent_sample_id" ref-type="src-columns"/>
	<columns names="sample_id" ref-type="dst-columns"/>
</constraint>

<constraint name="sample_type_sample_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.sample_type" table="col.sample">
	<columns names="sample_type_id" ref-type="src-columns"/>
	<columns names="sample_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="sampling_place_sample_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.sampling_place" table="col.sample">
	<columns names="sampling_place_id" ref-type="src-columns"/>
	<columns names="sampling_place_id" ref-type="dst-columns"/>
</constraint>

<constraint name="container_type_sample_type_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.container_type" table="col.sample_type">
	<columns names="container_type_id" ref-type="src-columns"/>
	<columns names="container_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="metadata_sample_type_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.metadata" table="col.sample_type">
	<columns names="metadata_id" ref-type="src-columns"/>
	<columns names="metadata_id" ref-type="dst-columns"/>
</constraint>

<constraint name="multiple_type_sample_type_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.multiple_type" table="col.sample_type">
	<columns names="multiple_type_id" ref-type="src-columns"/>
	<columns names="multiple_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="operation_sample_type_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.operation" table="col.sample_type">
	<columns names="operation_id" ref-type="src-columns"/>
	<columns names="operation_id" ref-type="dst-columns"/>
</constraint>

<constraint name="collection_sampling_place_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.collection" table="col.sampling_place">
	<columns names="collection_id" ref-type="src-columns"/>
	<columns names="collection_id" ref-type="dst-columns"/>
</constraint>

<constraint name="container_storage_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.container" table="col.movement">
	<columns names="container_id" ref-type="src-columns"/>
	<columns names="container_id" ref-type="dst-columns"/>
</constraint>

<constraint name="movement_type_storage_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.movement_type" table="col.movement">
	<columns names="movement_type_id" ref-type="src-columns"/>
	<columns names="movement_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_storage_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object" table="col.movement">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="storage_reason_storage_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.movement_reason" table="col.movement">
	<columns names="movement_reason_id" ref-type="src-columns"/>
	<columns names="movement_reason_id" ref-type="dst-columns"/>
</constraint>

<constraint name="movement_type_subsample_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.movement_type" table="col.subsample">
	<columns names="movement_type_id" ref-type="src-columns"/>
	<columns names="movement_type_id" ref-type="dst-columns"/>
</constraint>

<constraint name="sample_subsample_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.sample" table="col.subsample">
	<columns names="sample_id" ref-type="src-columns"/>
	<columns names="sample_id" ref-type="dst-columns"/>
</constraint>

<constraint name="aclaco_aclacl_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.aclaco" table="gacl.aclacl">
	<columns names="aclaco_id" ref-type="src-columns"/>
	<columns names="aclaco_id" ref-type="dst-columns"/>
</constraint>

<constraint name="aclgroup_aclacl_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.aclgroup" table="gacl.aclacl">
	<columns names="aclgroup_id" ref-type="src-columns"/>
	<columns names="aclgroup_id" ref-type="dst-columns"/>
</constraint>

<constraint name="aclappli_aclaco_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.aclappli" table="gacl.aclaco">
	<columns names="aclappli_id" ref-type="src-columns"/>
	<columns names="aclappli_id" ref-type="dst-columns"/>
</constraint>

<constraint name="aclgroup_aclgroup_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.aclgroup" table="gacl.aclgroup">
	<columns names="aclgroup_id_parent" ref-type="src-columns"/>
	<columns names="aclgroup_id" ref-type="dst-columns"/>
</constraint>

<constraint name="aclgroup_acllogingroup_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.aclgroup" table="gacl.acllogingroup">
	<columns names="aclgroup_id" ref-type="src-columns"/>
	<columns names="aclgroup_id" ref-type="dst-columns"/>
</constraint>

<constraint name="acllogin_acllogingroup_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.acllogin" table="gacl.acllogingroup">
	<columns names="acllogin_id" ref-type="src-columns"/>
	<columns names="acllogin_id" ref-type="dst-columns"/>
</constraint>

<constraint name="logingestion_passwordlost_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="gacl.logingestion" table="gacl.passwordlost">
	<columns names="id" ref-type="src-columns"/>
	<columns names="id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_fk" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="CASCADE" del-action="RESTRICT" ref-table="col.object" table="col.borrowing">
	<columns names="uid" ref-type="src-columns"/>
	<columns names="uid" ref-type="dst-columns"/>
</constraint>

<constraint name="borrower_fk" type="fk-constr" comparison-type="MATCH FULL"
	 upd-action="CASCADE" del-action="RESTRICT" ref-table="col.borrower" table="col.borrowing">
	<columns names="borrower_id" ref-type="src-columns"/>
	<columns names="borrower_id" ref-type="dst-columns"/>
</constraint>

<constraint name="object_status_object_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.object_status" table="col.object">
	<columns names="object_status_id" ref-type="src-columns"/>
	<columns names="object_status_id" ref-type="dst-columns"/>
</constraint>

<constraint name="referent_object_fk" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="col.referent" table="col.object">
	<columns names="referent_id" ref-type="src-columns"/>
	<columns names="referent_id" ref-type="dst-columns"/>
</constraint>

<relationship name="rel_booking_object" type="relfk" layer="0"
	 custom-color="#5e065b"
	 src-table="col.booking"
	 dst-table="col.object" reference-fk="object_booking_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_collection_referent" type="relfk" layer="0"
	 custom-color="#96cdc6"
	 src-table="col.collection"
	 dst-table="col.referent" reference-fk="referent_collection_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_collection_group_aclgroup" type="relfk" layer="1"
	 custom-color="#c7ee41"
	 src-table="col.collection_group"
	 dst-table="gacl.aclgroup" reference-fk="group_projet_aclgroup_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_collection_group_collection" type="relfk" layer="0"
	 custom-color="#5df917"
	 src-table="col.collection_group"
	 dst-table="col.collection" reference-fk="project_projet_group_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_container_container_type" type="relfk" layer="0"
	 custom-color="#238c17"
	 src-table="col.container"
	 dst-table="col.container_type" reference-fk="container_type_container_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_container_object" type="relfk" layer="0"
	 custom-color="#781005"
	 src-table="col.container"
	 dst-table="col.object" reference-fk="object_container_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_container_type_container_family" type="relfk" layer="0"
	 custom-color="#abb542"
	 src-table="col.container_type"
	 dst-table="col.container_family" reference-fk="container_family_container_type_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_container_type_label" type="relfk" layer="0"
	 custom-color="#f3f6d1"
	 src-table="col.container_type"
	 dst-table="col.label" reference-fk="label_container_type_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_container_type_storage_condition" type="relfk" layer="0"
	 custom-color="#90dd78"
	 src-table="col.container_type"
	 dst-table="col.storage_condition" reference-fk="storage_condition_container_type_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_document_mime_type" type="relfk" layer="0"
	 custom-color="#170a27"
	 src-table="col.document"
	 dst-table="col.mime_type" reference-fk="mime_type_document_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_document_object" type="relfk" layer="0"
	 custom-color="#3d6bdd"
	 src-table="col.document"
	 dst-table="col.object" reference-fk="object_document_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_event_event_type" type="relfk" layer="0"
	 custom-color="#4703ef"
	 src-table="col.event"
	 dst-table="col.event_type" reference-fk="event_type_event_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_event_object" type="relfk" layer="0"
	 custom-color="#6695f4"
	 src-table="col.event"
	 dst-table="col.object" reference-fk="object_event_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_label_metadata" type="relfk" layer="0"
	 custom-color="#0ccb22"
	 src-table="col.label"
	 dst-table="col.metadata" reference-fk="metadata_label_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_movement_container" type="relfk" layer="0"
	 custom-color="#0a1261"
	 src-table="col.movement"
	 dst-table="col.container" reference-fk="container_storage_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_movement_movement_type" type="relfk" layer="0"
	 custom-color="#6dee82"
	 src-table="col.movement"
	 dst-table="col.movement_type" reference-fk="movement_type_storage_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_movement_object" type="relfk" layer="0"
	 custom-color="#484ae6"
	 src-table="col.movement"
	 dst-table="col.object" reference-fk="object_storage_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_movement_movement_reason" type="relfk" layer="0"
	 custom-color="#78f128"
	 src-table="col.movement"
	 dst-table="col.movement_reason" reference-fk="storage_reason_storage_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_object_object_status" type="relfk" layer="0"
	 custom-color="#d13f72"
	 src-table="col.object"
	 dst-table="col.object_status" reference-fk="object_status_object_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_object_referent" type="relfk" layer="0"
	 custom-color="#791f4e"
	 src-table="col.object"
	 dst-table="col.referent" reference-fk="referent_object_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_object_identifier_identifier_type" type="relfk" layer="0"
	 custom-color="#d70224"
	 src-table="col.object_identifier"
	 dst-table="col.identifier_type" reference-fk="identifier_type_object_identifier_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_object_identifier_object" type="relfk" layer="0"
	 custom-color="#e79f3c"
	 src-table="col.object_identifier"
	 dst-table="col.object" reference-fk="object_object_identifier_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_operation_protocol" type="relfk" layer="0"
	 custom-color="#21b6b4"
	 src-table="col.operation"
	 dst-table="col.protocol" reference-fk="protocol_operation_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_protocol_collection" type="relfk" layer="0"
	 custom-color="#d5a36b"
	 src-table="col.protocol"
	 dst-table="col.collection" reference-fk="project_protocol_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_object" type="relfk" layer="0"
	 custom-color="#645827"
	 src-table="col.sample"
	 dst-table="col.object" reference-fk="object_sample_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_collection" type="relfk" layer="0"
	 custom-color="#cfe354"
	 src-table="col.sample"
	 dst-table="col.collection" reference-fk="project_sample_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_sample" type="relfk" layer="0"
	 custom-color="#94c789"
	 src-table="col.sample"
	 dst-table="col.sample" reference-fk="sample_sample_fk"
	 src-required="false" dst-required="false">
	<line>
		<position x="966.999" y="935.4"/>
	<position x="966.999" y="817"/>
	<position x="896" y="817"/>
	</line>
</relationship>

<relationship name="rel_sample_sample_type" type="relfk" layer="0"
	 custom-color="#567995"
	 src-table="col.sample"
	 dst-table="col.sample_type" reference-fk="sample_type_sample_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_sampling_place" type="relfk" layer="0"
	 custom-color="#ed52d5"
	 src-table="col.sample"
	 dst-table="col.sampling_place" reference-fk="sampling_place_sample_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_type_container_type" type="relfk" layer="0"
	 custom-color="#b13f70"
	 src-table="col.sample_type"
	 dst-table="col.container_type" reference-fk="container_type_sample_type_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_type_metadata" type="relfk" layer="0"
	 custom-color="#ea5eea"
	 src-table="col.sample_type"
	 dst-table="col.metadata" reference-fk="metadata_sample_type_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_type_multiple_type" type="relfk" layer="0"
	 custom-color="#759c46"
	 src-table="col.sample_type"
	 dst-table="col.multiple_type" reference-fk="multiple_type_sample_type_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sample_type_operation" type="relfk" layer="0"
	 custom-color="#1bfd50"
	 src-table="col.sample_type"
	 dst-table="col.operation" reference-fk="operation_sample_type_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_sampling_place_collection" type="relfk" layer="0"
	 custom-color="#4e76bc"
	 src-table="col.sampling_place"
	 dst-table="col.collection" reference-fk="collection_sampling_place_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_subsample_movement_type" type="relfk" layer="0"
	 custom-color="#703a2a"
	 src-table="col.subsample"
	 dst-table="col.movement_type" reference-fk="movement_type_subsample_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_subsample_sample" type="relfk" layer="0"
	 custom-color="#631fc9"
	 src-table="col.subsample"
	 dst-table="col.sample" reference-fk="sample_subsample_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_aclgroup_aclgroup" type="relfk" layer="1"
	 custom-color="#70d93e"
	 src-table="gacl.aclgroup"
	 dst-table="gacl.aclgroup" reference-fk="aclgroup_aclgroup_fk"
	 src-required="false" dst-required="false">
	<line>
		<position x="174.921" y="213.4"/>
	<position x="174.921" y="157"/>
	<position x="107.947" y="157"/>
	</line>
</relationship>

<relationship name="rel_aclacl_aclaco" type="relfk" layer="1"
	 custom-color="#792741"
	 src-table="gacl.aclacl"
	 dst-table="gacl.aclaco" reference-fk="aclaco_aclacl_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_aclacl_aclgroup" type="relfk" layer="1"
	 custom-color="#337c5c"
	 src-table="gacl.aclacl"
	 dst-table="gacl.aclgroup" reference-fk="aclgroup_aclacl_fk"
	 src-required="false" dst-required="false">
	<label ref-type="name-label">
		<position x="-7.39776" y="-6.86066"/>
	</label>
</relationship>

<relationship name="rel_aclaco_aclappli" type="relfk" layer="1"
	 custom-color="#a1f489"
	 src-table="gacl.aclaco"
	 dst-table="gacl.aclappli" reference-fk="aclappli_aclaco_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_acllogingroup_aclgroup" type="relfk" layer="1"
	 custom-color="#88ab3b"
	 src-table="gacl.acllogingroup"
	 dst-table="gacl.aclgroup" reference-fk="aclgroup_acllogingroup_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_acllogingroup_acllogin" type="relfk" layer="1"
	 custom-color="#fd9145"
	 src-table="gacl.acllogingroup"
	 dst-table="gacl.acllogin" reference-fk="acllogin_acllogingroup_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_passwordlost_logingestion" type="relfk" layer="1"
	 custom-color="#51a13d"
	 src-table="gacl.passwordlost"
	 dst-table="gacl.logingestion" reference-fk="logingestion_passwordlost_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_borrowing_object" type="relfk" layer="0"
	 custom-color="#0f6d50"
	 src-table="col.borrowing"
	 dst-table="col.object" reference-fk="object_fk"
	 src-required="false" dst-required="false"/>

<relationship name="rel_borrowing_borrower" type="relfk" layer="0"
	 custom-color="#fb8663"
	 src-table="col.borrowing"
	 dst-table="col.borrower" reference-fk="borrower_fk"
	 src-required="false" dst-required="false"/>

<permission>
	<object name="collec" type="database"/>
	<roles names="collec"/>
	<privileges create="true" connect="true" temporary="true"/>
</permission>
</dbmodel>
